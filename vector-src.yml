api: {enabled: true}
sources:
  internal: {type: internal_metrics}
  input:
    type: nats
    url: "nats://[fdaa::3]:4223"
    subject: 'logs.>'
    auth:
      strategy: user_password
      user_password: {user: "${ORG-personal}", password: "${ACCESS_TOKEN?}"}
    connection_name: Fly data stream

sinks:
  vector:
    type: vector
    inputs: [input, internal]
    compression: true
    address: "data.process.${FLY_APP_NAME}.internal:6000"
    buffer: {type: disk, max_size: 268435488}
